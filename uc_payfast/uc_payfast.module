<?php

/**
 * @file
 * Integrates various PayFast ITN
 *
 * Copyright (c) 2008 PayFast (Pty) Ltd
 * You (being anyone who is not PayFast (Pty) Ltd) may download and use this plugin / code in your own website in conjunction with a registered and active PayFast account. If your PayFast account is terminated for any reason, you may not use this plugin / code or part thereof.
 * Except as expressly indicated in this licence, you may not use, copy, modify or distribute this plugin / code or part thereof in any way.
 */

use Drupal\uc_order\OrderInterface;

/**
 * Implementation of hook_uc_payment_method().
 */
function uc_pfpayfast_uc_payment_method() {
  $methods['payfast'] = array(
      'id' => 'payfast',
      'name' => t('Payfast'),
      'title' => t('Payment via Payfast'),
      'desc' => t('Payment via Payfast'),
      'callback' => 'uc_payment_method_payfast',
      'redirect' => 'uc_payfast_form',
      'weight' => 1,
      'checkout' => true,
      'no_gateway' => true,
  );
  return $methods;
}

/**
 * Implements hook_uc_payment_gateway().
 */
function uc_payfast_uc_payment_gateway() {
  $gateways['payfast'] = array(
      'title' => t('PayFast'),
      'description' => t('Process payments via PayFast.'),
      'settings' => 'uc_payfast_settings_form',
   //   'credit' => 'uc_authorizenet_charge',
   //   'credit_txn_types' => array(UC_CREDIT_AUTH_ONLY, UC_CREDIT_PRIOR_AUTH_CAPTURE, UC_CREDIT_AUTH_CAPTURE, UC_CREDIT_REFERENCE_SET, UC_CREDIT_REFERENCE_TXN),
  );

  return $gateways;
}
